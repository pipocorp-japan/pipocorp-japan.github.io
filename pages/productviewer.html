<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>製品詳細 | pipo.corp</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" href="https://pipocorp-japan.github.io/asset/icon.png?v=1728623402929" />
    <style>
        body { font-family: 'Noto Sans JP', sans-serif; }
        
        /* コンテンツエリア内のスタイルを詳細に定義 */
        .product-content {
            @apply leading-relaxed text-gray-700;
        }
        
        /* あなたのHTMLタグ構成（h1, p.text-xl, div.description）を活かす定義 */
        .product-content h1 { 
            @apply text-4xl md:text-5xl font-black mb-6 text-gray-900 tracking-tighter flex items-center gap-3; 
        }
        
        .product-content h2 { 
            @apply text-2xl font-black mt-12 mb-6 text-gray-800 flex items-center gap-2; 
        }
        
        /* キャッチコピー部分 */
        .product-content .text-pipo-600 {
            @apply text-pipo-600 font-bold leading-tight;
        }

        /* 説明文のカード部分 */
        .product-content .description {
            @apply shadow-sm border border-gray-100 p-8 rounded-[2rem] bg-white my-8 leading-loose text-lg;
        }

        .product-content p { @apply mb-4; }

        /* リスト部分 */
        .product-content ul { 
            @apply space-y-4 mb-8; 
        }
        .product-content ul li {
            @apply flex items-start gap-3 before:content-['●'] before:text-pipo-500 before:text-[10px] before:pt-2;
        }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        pipo: { 500: '#0ea5e9', 600: '#0284c7' }
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50 text-gray-800 antialiased">

    <!-- Header -->
    <header class="bg-white/80 backdrop-blur-md sticky top-0 z-50 border-b border-gray-100">
        <div class="max-w-6xl mx-auto px-6 h-16 md:h-24 flex items-center justify-between">
            <a href="../index.html" class="flex items-center gap-3 group">
                <div class="w-10 h-10 rounded-xl overflow-hidden shadow-sm border border-gray-100">
                    <img src="https://pipocorp-japan.github.io/asset/icon.png?v=1728623402929" alt="pipo.corp" class="w-full h-full object-cover">
                </div>
                <div class="flex flex-col">
                    <span class="text-[10px] font-black text-pipo-600 tracking-widest leading-none mb-1">BACK TO HOME</span>
                    <span class="font-black text-xl text-gray-900 leading-none tracking-tighter">pipo.corp</span>
                </div>
            </a>
            <div class="flex gap-4">
                <a href="form.html" class="bg-gray-900 text-white px-6 py-2.5 rounded-xl text-sm font-bold hover:bg-pipo-600 transition-all shadow-lg shadow-gray-900/10">Contact</a>
            </div>
        </div>
    </header>

    <main class="max-w-6xl mx-auto px-6 py-12 md:py-20">
        <div id="loading" class="flex justify-center py-20">
            <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-pipo-600"></div>
        </div>

        <div id="product-display" class="hidden">
            <div class="grid grid-cols-1 lg:grid-cols-12 gap-16 items-start">
                
                <!-- Sidebar -->
                <div class="lg:col-span-4 lg:sticky lg:top-36">
                    <div class="bg-white rounded-[3rem] p-10 shadow-2xl shadow-pipo-500/5 border border-gray-100 mb-8 overflow-hidden relative group">
                        <img id="product-icon" src="" alt="" class="w-full h-auto drop-shadow-2xl transition-transform duration-700 group-hover:scale-110">
                        <div class="absolute inset-0 bg-gradient-to-t from-white/20 to-transparent pointer-events-none"></div>
                    </div>
                    <div id="product-tags" class="flex flex-wrap gap-2 mb-8"></div>
                    
                    <div class="p-8 bg-white border border-gray-100 rounded-[2rem] shadow-sm">
                        <p class="text-xs font-bold text-gray-400 mb-4 tracking-widest">ACTION</p>
                        <a id="action-btn" href="#" target="_blank" class="flex items-center justify-center gap-3 bg-pipo-600 hover:bg-pipo-500 text-white w-full py-4 rounded-2xl font-black transition-all transform hover:-translate-y-1 shadow-xl shadow-pipo-600/20">
                            <i class="fas fa-rocket"></i>
                            今すぐ使ってみる
                        </a>
                    </div>
                </div>

                <!-- Main Content -->
                <div class="lg:col-span-8">
                    <!-- Breadcrumb -->
                    <nav class="mb-10 flex items-center gap-3 text-xs font-bold tracking-widest text-gray-400 uppercase">
                        <a href="../index.html#products" class="hover:text-pipo-600">Products</a>
                        <span class="text-gray-200">/</span>
                        <span id="breadcrumb-name" class="text-gray-900">Name</span>
                    </nav>

                    <!-- ここに products/*.html の中身が注入される -->
                    <div id="product-html-content" class="product-content"></div>

                    <!-- Footer Space -->
                    <div class="mt-20 pt-10 border-t border-gray-100 flex justify-between items-center text-gray-400 text-[10px] font-bold tracking-widest">
                        <span>PIPO.CORP PRODUCT PAGE</span>
                        <a href="../index.html" class="hover:text-gray-900 transition-colors">BACK TO TOP</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Error -->
        <div id="error-display" class="hidden text-center py-20">
            <h2 class="text-2xl font-black mb-4">Content Not Found</h2>
            <a href="../index.html" class="text-pipo-600 font-bold underline">Go Back</a>
        </div>
    </main>

    <script>
        const products = {
            'memoflow': {
                name: 'memoflow',
                icon: 'https://pipocorp-japan.github.io/asset/memoflow.png?v=1734502121069',
                file: '../products/memoflow.html',
                tags: ['Utility', 'Minimal'],
                url: 'https://pipocorp-japan.github.io/memoflow/'
            },
            'pipochart': {
                name: 'pipochart',
                icon: 'https://pipocorp-japan.github.io/asset/chartLab.png?v=1732956500116',
                file: '../products/pipochart.html',
                tags: ['Data', 'Graph'],
                url: 'https://pipocorp-japan.github.io/pipochart/'
            },
            'pipotext': {
                name: 'pipoText',
                icon: 'https://pipocorp-japan.github.io/asset/ptext.png?v=1734502121069',
                file: '../products/pipotext.html',
                tags: ['Coding', 'Editor'],
                url: 'https://pipocorp-japan.github.io/pipotext/'
            },
            'dsk': {
                name: '便利な缶詰め (DSK)',
                icon: 'https://pipocorp-japan.github.io/asset/dsk.png?v=1730535054752',
                file: '../products/dsk.html',
                tags: ['Dev', 'Manager'],
                url: 'https://pipocorp-japan.github.io/dsk/'
            },
            'psk': {
                name: 'ピポの便利な缶詰め',
                icon: 'https://pipocorp-japan.github.io/asset/psk.png?v=1730535027534',
                file: '../products/psk.html',
                tags: ['Life', 'Utility'],
                url: 'https://pipocorp-japan.github.io/psk/'
            },
            'pd': {
                name: 'ピポ図鑑',
                icon: 'https://pipocorp-japan.github.io/asset/pd.png?v=1730535023728',
                file: '../products/pd.html',
                tags: ['Wiki', 'Char'],
                url: 'https://pipocorp-japan.github.io/pd/'
            }
        };

        async function init() {
            const urlParams = new URLSearchParams(window.location.search);
            const productId = urlParams.get('id');
            const data = products[productId];
            const loading = document.getElementById('loading');
            const display = document.getElementById('product-display');

            if (!data) {
                loading.classList.add('hidden');
                document.getElementById('error-display').classList.remove('hidden');
                return;
            }

            try {
                document.title = `${data.name} | pipo.corp`;
                document.getElementById('breadcrumb-name').textContent = data.name;
                document.getElementById('product-icon').src = data.icon;
                document.getElementById('action-btn').href = data.url;

                const tagContainer = document.getElementById('product-tags');
                data.tags.forEach(tag => {
                    const s = document.createElement('span');
                    s.className = 'px-3 py-1 bg-white border border-gray-100 text-gray-400 text-[9px] font-black rounded-full uppercase tracking-widest';
                    s.textContent = tag;
                    tagContainer.appendChild(s);
                });

                const response = await fetch(data.file);
                if (response.ok) {
                    const html = await response.text();
                    // コンテンツを注入。注入後にクラススタイルが適用される
                    document.getElementById('product-html-content').innerHTML = html;
                } else {
                    document.getElementById('product-html-content').innerHTML = `<h1>Coming Soon</h1><p>現在準備中です。</p>`;
                }

                loading.classList.add('hidden');
                display.classList.remove('hidden');
            } catch (e) {
                console.error(e);
                loading.classList.add('hidden');
                document.getElementById('error-display').classList.remove('hidden');
            }
        }
        window.onload = init;
    </script>
</body>
</html>